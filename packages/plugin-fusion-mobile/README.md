# build-plugin-fusion-mobile

Plugin for rax app using [Fusion Mobile](https://www.npmjs.com/package/@alifd/meet)

[中文文档](./README_zh-CN.md)

## Usage

`build.json`

```json
{
  "plugins": [
    [
      "build-plugin-fusion-mobile",
      {
        "transformCssVariables": true,
        "extractModules": true
      }
    ]
  ]
}
```

> **Notice:** an additional theme css file is required when `extractModules` is true:
>
> 1.  `@alifd/meet/es/core/index.css`
> 2.  @alife/mobile-theme-default/index.css (generated by [Fusion](https://fusion.alibaba-inc.com/))

```jsx
/* @jsx createElement */
import { createElement } from 'rax';
import { Button } from '@alifd/meet';

// import theme manually
import '@alifd/meet/es/core/index.css';

export default () => {
  return (
    <Button type="primary" model="outline">
      button
    </Button>
  );
};
```

## config

###extractModules

use [babel-plugin-import](https://www.npmjs.com/package/babel-plugin-import) to extract component code for @alifd/meet, @alifd/meet-react

default: `true`

### transformCssVariables

tranform css variables into static values for miniapp css bundles, such as bundle.css.wxss, bundle.css.acss.

default: `false`

eg：

```css
:root {
  --color-brand-3: #209bfa;
}

.mt-button {
  background-color: var(--color-brand-3);
}
```

will get

```css
.mt-button {
  background-color: #209bfa;
}
```
